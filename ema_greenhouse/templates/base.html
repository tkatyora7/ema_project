{% include 'styles.html' %}
{% load static %}
<!DOCTYPE html>
<html lang="en">

<body class="bg-gray-50">
    <div class="flex h-screen">
        
        <div class="hidden md:flex md:flex-shrink-0">
    <div class="flex flex-col w-64 bg-emerald-800 text-white">
        <!-- Enhanced Header -->
        <div class="flex flex-col px-4 py-4 bg-gradient-to-b from-emerald-900 to-emerald-800 shadow-inner">
            <div class="flex items-center">
                <img src="{% static 'imagies/logo2.jpeg' %}" alt="EMA Logo" 
                     class="h-10 w-10 rounded-lg shadow-sm ring-1 ring-emerald-400/20" />
                <div class="ml-3">
                    <h1 class="text-xl font-bold leading-tight">EMA</h1>
                    <p class="text-xs font-medium text-emerald-100 uppercase tracking-wider mt-0.5">
                        Monitoring System
                    </p>
                </div>
            </div>
            <div class="mt-3 flex justify-between items-center">
                <span class="px-2 py-1 bg-emerald-700/40 rounded-full text-xs font-medium text-emerald-100 flex items-center">
                    <span class="w-2 h-2 rounded-full bg-green-400 mr-1.5 animate-pulse"></span>
                   EMA Personnel
                </span>
                <span class="text-emerald-100 text-xs font-medium">
                    {% now "M j, Y" %}
                </span>
            </div>
        </div>

        <!-- Navigation Menu -->
        <nav class="flex-1 px-3 py-4 space-y-1 overflow-y-auto">
            <a href="#" class="flex items-center px-3 py-2 text-sm font-medium rounded-md bg-emerald-700/90 group">
                <svg class="w-5 h-5 text-emerald-300 group-hover:text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                </svg>
                <span class="ml-3">Dashboard</span>
            </a>
            <a href="{% url 'system_health'%}" class="flex items-center px-3 py-2 text-sm font-medium rounded-md hover:bg-emerald-700/70 group">
                <svg class="w-5 h-5 text-emerald-300 group-hover:text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"/>
                </svg>
                <span class="ml-3">Sensors</span>
            </a>
            <!-- Additional menu items can be added here -->
        </nav>
    </div>
</div>

        <!-- Main Content -->
        <div class="flex flex-col flex-1 overflow-hidden">
            
            <header class="flex items-center justify-between px-6 py-4 bg-white border-b">
  
    <div class="flex items-center">
        <button class="md:hidden text-gray-500 focus:outline-none">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
            </svg>
        </button>
        <h1 class="ml-4 text-xl font-semibold text-gray-800">Welcome to EMA Greenhouse Gas Monitoring System</h1>
    </div>
    <div class="flex items-center space-x-4">
        {% for message in messages %}
            {% if message.tags == 'success' %}
            <div class="flex items-center p-2 rounded-lg bg-green-50 border border-green-200">
                <svg class="w-4 h-4 text-green-600 shrink-0" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z" clip-rule="evenodd"/>
                </svg>
                <span class="ml-2 text-sm font-medium text-green-700">{{ message }}</span>
            </div>
            {% endif %}
        {% endfor %}
        <div class="flex items-center space-x-3 border-l border-gray-200 pl-4">
            <div class="text-right">
                <p class="text-sm font-medium text-gray-700">{{ user.role }}</p>
                <p class="text-xs text-gray-500">{{ user.email }}</p>
            </div>
            
            <form method="post" action="{% url 'logout' %}" class="ml-2">
                {% csrf_token %}
                <button type="submit" class="text-sm text-indigo-600 hover:text-indigo-800 hover:bg-gray-100 px-2 py-1 rounded">
                    Logout
                </button>
            </form>
        </div>
    </div>
</header>

        {% block content %}{% endblock %}
        </div>
    </div>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</body>
</html>